[buildout]
parts += 
   instance 
   test 
#   ipzope 
   vscode
extends =
    test-5.1.x.cfg
versions = versions
unzip = true
develop = .

[versions]

[instance]
recipe = plone.recipe.zope2instance
user = admin:admin
http-address = 8080
eggs =
	Pillow
    Plone
    plone.reload
    plone.app.debugtoolbar
    collective.recipe.filestorage

[scripts]
recipe = zc.recipe.egg
eggs = 
	collective.recipe.filestorage
    jarn.mkrelease
    ZopeSkel
    PasteScript
    PasteDeploy
    Paste
    templer.plone
    templer.plone.localcommands

[omelette]
recipe = collective.recipe.omelette
eggs = ${instance:eggs}


[ipzope]
recipe = zc.recipe.egg
eggs = ipython ${instance:eggs}
initialization =
    import sys, os
    os.environ["INSTANCE_HOME"] = "${instance:location}"
    argv_len = len(sys.argv)
    sys.argv[argv_len:argv_len] = "--profile=zope2".split()
scripts = ipython=ipzope


[vscode]
recipe = collective.recipe.vscode
eggs = ${test:eggs} ${instance:eggs}
enable-flake8 = true
enable-black = true
generate-envfile = true